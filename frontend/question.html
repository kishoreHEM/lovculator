<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question - Lovculator</title>
    <meta name="description" content="View question and answers on Lovculator">
    
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/messages.css">
    <link rel="stylesheet" href="/css/qa.css">

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="shortcut icon" href="/images/favicon-32x32.png" type="image/png">
    <link rel="icon" href="/images/favicon.ico" sizes="any">

    
</head>

<body class="app-layout question-page">
<div id="global-header"></div>

<!-- Main Layout -->
<div class="app-container">
    <!-- Main Content Area -->
    <main class="main-content-area">
        <!-- Question Section -->
        <section class="question-section">
            <div id="questionContainer">
                <div class="loading-question">
                    <div class="loading-spinner"></div>
                    <p>Loading question...</p>
                </div>
            </div>
        </section>

        <!-- Answers Section -->
        <section class="answers-section">
            <h3>Answers</h3>
            <div id="answersContainer">
                <div class="loading-answers">
                    <div class="loading-spinner"></div>
                    <p>Loading answers...</p>
                </div>
            </div>
        </section>

        <!-- Answer Form Section -->
        <section id="answerFormContainer"></section>
    </main>
</div>

<!-- Scripts -->
<script src="/js/global-header.js"></script>
<script src="/js/layout.js"></script>
<script src="/js/social-features.js"></script>
<script src="/js/question.js"></script>
<script src="/js/profile.js"></script>

<script>
// Initialize page
document.addEventListener('DOMContentLoaded', function() {
    console.log('Question page loaded');
    
    // Set active state for answers nav
    const navItems = document.querySelectorAll('.nav-icon-item, .sidebar-item');
    navItems.forEach(item => {
        item.classList.remove('active');
        if (item.getAttribute('href') === '/answer' || item.textContent.includes('Answers')) {
            item.classList.add('active');
        }
    });
    
    // Load user info
    if (window.loadUserInfo) {
        window.loadUserInfo();
    }
    
    // Check if question.js loaded and has loadQuestion function
    setTimeout(() => {
        if (window.loadQuestion) {
            window.loadQuestion();
        } else {
            console.error('loadQuestion function not found in question.js');
            document.getElementById('questionContainer').innerHTML = 
                '<p style="color:red; text-align:center;">Failed to load question. Please refresh the page.</p>';
        }
    }, 500);
});
</script>

</body>
</html>