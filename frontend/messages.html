<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messages - Lovculator üíñ</title>
    <meta name="description" content="Connect and chat with your matches on Lovculator" />
    <meta name="theme-color" content="#ff4b8d" />

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png" />
    <link rel="shortcut icon" href="/images/favicon-32x32.png" type="image/png" />
    <link rel="icon" href="/images/favicon.ico" sizes="any" />

    <!-- Global site styles -->
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/messages.css"/>

</head>
<body class="messages-page">
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <a href="/" class="logo" aria-label="Lovculator Home">üíñ Lovculator</a>
            </div>

            <!-- Desktop menu -->
            <ul class="nav-menu">
                <li class="nav-item"><a href="/signup" class="nav-link">Signup</a></li>
                <li class="nav-item"><a href="/login" class="nav-link">Login</a></li>
                <li class="nav-item"><a href="/love-calculator" class="nav-link">Love Calculator</a></li>
                <li class="nav-item"><a href="/profile.html" class="nav-link">Profile</a></li>
                <li class="nav-item"><a href="/messages.html" class="nav-link active">Messages</a></li>
            </ul>

            <!-- Mobile menu -->
            <button class="menu-toggle" aria-label="Toggle menu">
                <span></span><span></span><span></span>
            </button>
            <div class="mobile-menu-overlay"></div>
        </nav>
    </header>

    <!-- Main Messages Container -->
    <div class="messages-container">
        <!-- Conversations Sidebar -->
        <div class="conversations-sidebar">
            <div class="conversations-header">
                <h1>Messages</h1>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search conversations..." id="searchConversations">
                    <span class="search-icon">üîç</span>
                </div>
            </div>

            <div class="conversations-list" id="conversationsList">
                <!-- Loading State -->
                <div class="loading-conversations">
                    <div class="conversation-skeleton">
                        <div class="avatar-skeleton"></div>
                        <div class="info-skeleton">
                            <div class="line-skeleton"></div>
                            <div class="line-skeleton short"></div>
                        </div>
                    </div>
                    <div class="conversation-skeleton">
                        <div class="avatar-skeleton"></div>
                        <div class="info-skeleton">
                            <div class="line-skeleton"></div>
                            <div class="line-skeleton short"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Messages Main Area -->
        <div class="messages-main" id="messagesMain">
            <div class="messages-header">
                <div class="current-chat-info">
                    <img src="/images/default-avatar.png" alt="User" class="current-chat-avatar" id="currentChatAvatar">
                    <div class="chat-user-info">
                        <h3 id="currentChatName">Select a conversation</h3>
                        <div class="chat-user-status" id="currentChatStatus">
                            Start chatting to connect
                        </div>
                    </div>
                </div>
                <div class="chat-actions">
                    <!-- Back button (shown only on mobile via CSS) -->
                    <button id="backToList" class="back-btn" title="Back to chats">‚Üê</button>
                    <button class="chat-action-btn" title="User profile">üë§</button>
                    <button class="chat-action-btn" title="Search messages">üîç</button>
                    <button class="chat-action-btn" title="More options">‚ãØ</button>
                </div>
            </div>

            <div class="messages-list" id="messagesList">
                <div class="empty-conversations">
                    <div class="empty-icon">üíå</div>
                    <h3>No conversation selected</h3>
                    <p>Choose a conversation from the list to start messaging</p>
                </div>
            </div>

            <div class="message-input-container" id="messageInputContainer" style="display: none;">
                <div class="message-input-wrapper">
                    <button id="emojiBtn" type="button" title="Emoji" class="chat-action-btn">üòä</button>
                    <button id="attachBtn" type="button" title="Attach" class="chat-action-btn">üìé</button>
                    <input type="file" id="attachInput" accept="image/*,audio/*,video/*,.pdf,.doc,.docx" style="display:none" />
                    <textarea id="messageInput" placeholder="Type a message..." rows="1"></textarea>
                    <button id="micBtn" type="button" title="Voice note" class="chat-action-btn">üé§</button>
                    <button id="sendMessageBtn" title="Send message">
                        <span style="font-size: 18px;">‚û§</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/navigation.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/messages.js"></script>
</body>
</html>
